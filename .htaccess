# فعال کردن موتور بازنویسی URL
RewriteEngine On

# تنظیم مسیر پایه پروژه (مهم چون پروژه شما در ساب‌دایرکتوری است)
RewriteBase /clinic/

# ===================================================
# == بلاک کردن دسترسی مستقیم به فایل‌های .php ==
# ===================================================
# اگر درخواست اولیه شامل ".php" بود، با خطای 404 آن را رد کن
RewriteCond %{THE_REQUEST} \.php
RewriteRule \.php$ - [R=404,L]

# ===================================================
# == قوانین روتینگ اصلی شما (از فایل قبلی) ==
# ===================================================
# قانون برای حذف index.php از URL
RewriteCond %{THE_REQUEST} \s/index\.php [NC]
RewriteRule ^index\.php$ /clinic/ [R=301,L]

# اگر درخواست برای یک فایل یا پوشه واقعی نیست...
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
# ...تمام درخواست‌ها را به index.php بفرست
RewriteRule . index.php [L]